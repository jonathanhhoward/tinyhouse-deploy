{"version":3,"sources":["lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/tinyhouse-logo.png","lib/components/ErrorBanner/index.tsx","lib/utils/index.ts","lib/components/ListingCard/index.tsx","lib/components/PageSkeleton/index.tsx","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/assets/tinyhouse-logo.png","sections/AppHeader/index.tsx","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/queries/Listings/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/__generated__/globalTypes.ts","sections/Home/assets/toronto.jpg","sections/Home/assets/dubai.jpg","sections/Home/assets/los-angeles.jpg","sections/Home/assets/london.jpg","sections/Home/components/HomeHero/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpg","sections/Home/assets/map-background.jpg","sections/Home/assets/san-fransisco.jpg","sections/Home/assets/cancun.jpg","sections/Home/index.tsx","sections/Host/utils/index.ts","sections/Host/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/index.tsx","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpg","sections/Listings/index.tsx","sections/Login/assets/google_logo.jpg","sections/Login/index.tsx","sections/NotFound/index.tsx","sections/Stripe/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CONNECT_STRIPE","gql","CREATE_BOOKING","DISCONNECT_STRIPE","HOST_LISTING","LOG_IN","LOG_OUT","Header","Layout","AppHeaderSkeleton","className","src","alt","ErrorBanner","message","description","banner","closable","type","iconColor","formatListingPrice","price","round","Math","displaySuccessNotification","notification","placement","style","marginTop","displayErrorMessage","error","Text","Typography","Title","ListingCard","listing","id","title","image","address","numOfGuests","to","hoverable","cover","backgroundImage","level","strong","ellipsis","UserOutlined","color","SkeletonParagraph","active","paragraph","rows","PageSkeleton","Item","Menu","SubMenu","MenuItems","viewer","setViewer","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","onError","a","subMenuLogin","avatar","onClick","LogoutOutlined","mode","selectable","HomeOutlined","Search","Input","AppHeader","withRouter","history","location","useState","search","setSearch","useEffect","pathname","pathnameSubStrings","split","includes","length","placeholder","enterButton","value","onChange","e","target","onSearch","trimmedValue","trim","push","AUTH_URL","LISTING","LISTINGS","ListingType","ListingsFilter","USER","HomeHero","size","gutter","xs","md","torontoImage","dubaiImage","losAngelesImage","londonImage","HomeListings","listings","grid","sm","lg","xl","xxl","dataSource","renderItem","HomeListingsSkeleton","loading","Content","Paragraph","Home","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","mapBackground","result","sanFransiscoImage","cancunImage","beforeImageUpload","file","fileIsValidImage","fileIsValidSize","Form","useForm","Host","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","hostListing","form","hasWallet","layout","name","onFinish","values","fullAddress","city","state","postalCode","input","onFinishFailed","label","rules","required","Group","Button","APARTMENT","BankOutlined","HOUSE","min","extra","maxLength","TextArea","listType","showUploadList","action","beforeUpload","info","status","originFileObj","img","callback","reader","FileReader","addEventListener","readAsDataURL","getBase64Value","LoadingOutlined","PlusOutlined","htmlType","ListingBookings","listingBookings","bookingsPage","setBookingsPage","total","listingBookingsList","locale","emptyText","pagination","current","defaultPageSize","hideOnSinglePage","showLessItems","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","ListingCreateBooking","host","bookingsIndex","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","moment","endOf","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","undefined","format","showToday","disabled","dateValue","onOpenChange","dateCursor","add","mark","WrappedListingCreateBookingModal","injectStripe","modalVisible","clearBookingData","handleListingRefetch","stripe","createBooking","daysBooked","diff","listingPrice","createToken","stripeToken","token","source","visible","centered","footer","onCancel","KeyOutlined","hidePostalCode","ListingDetails","EnvironmentOutlined","expandable","Listing","match","params","refetch","bookings","listingDetailsElement","listingBookingsElement","listingCreateBookingElement","listingCreateBookingModalElement","justify","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","setPage","ListingsSkeleton","Listings","locationRef","useRef","skip","listingsRegion","region","listingsRegionElement","listingsSectionElement","offsetTop","Login","useLazyQuery","window","href","authUrl","getAuthUrl","logIn","setItem","logInData","logInLoading","logInError","logInRef","code","URL","searchParams","get","logInErrorBannerElement","tip","role","aria-label","NotFound","Stripe","connectStripe","connectStripeRef","replace","UserBookings","userBookings","userBookingsList","position","userBooking","UserListings","userListings","listingsPage","setListingsPage","userListingsList","userListing","stripeAuthUrl","process","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetails","income","rel","additionalDetailsSection","contact","User","userProfileElement","userListingsElement","userBookingsElement","stripeErrorBanner","initialViewer","didRequest","App","apiKey","exact","path","component","render","props","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","httpLink","HttpLink","uri","authLink","setContext","_","headers","getItem","client","ApolloClient","cache","InMemoryCache","link","concat","document","getElementById"],"mappings":"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","file":"static/js/main.45598033.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\n\nexport const CONNECT_STRIPE = gql`\n  mutation ConnectStripe($input: ConnectStripeInput!) {\n    connectStripe(input: $input) {\n      hasWallet\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const CREATE_BOOKING = gql`\n  mutation CreateBooking($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      id\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const DISCONNECT_STRIPE = gql`\n  mutation DisconnectStripe {\n    disconnectStripe {\n      hasWallet\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const HOST_LISTING = gql`\n  mutation HostListing($input: HostListingInput!) {\n    hostListing(input: $input) {\n      id\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_IN = gql`\n  mutation LogIn($input: LogInInput) {\n    logIn(input: $input) {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_OUT = gql`\n  mutation LogOut {\n    logOut {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { Layout } from \"antd\";\nimport logo from \"./assets/tinyhouse-logo.png\";\n\nconst { Header } = Layout;\n\nexport function AppHeaderSkeleton() {\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <img src={logo} alt=\"App logo\" />\n        </div>\n      </div>\n    </Header>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { Alert } from \"antd\";\n\ninterface Props {\n  message?: string;\n  description?: string;\n}\n\nexport function ErrorBanner({\n  message = \"Uh oh! Something went wrong :(\",\n  description = \"Looks like something went wrong. Please check your connection and/or try again later.\",\n}: Props) {\n  return (\n    <Alert\n      banner\n      closable\n      message={message}\n      description={description}\n      type=\"error\"\n      className=\"error-banner\"\n    />\n  );\n}\n","import { message, notification } from \"antd\";\n\nexport const iconColor = \"#1890ff\";\n\nexport function formatListingPrice(price: number, round = true) {\n  return `$${round ? Math.round(price / 100) : price / 100}`;\n}\n\nexport function displaySuccessNotification(\n  message: string,\n  description?: string\n) {\n  return notification[\"success\"]({\n    message,\n    description,\n    placement: \"topLeft\",\n    style: { marginTop: 50 },\n  });\n}\n\nexport function displayErrorMessage(error: string) {\n  return message.error(error);\n}\n","import { Link } from \"react-router-dom\";\nimport { Card, Typography } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { iconColor, formatListingPrice } from \"../../utils\";\n\ninterface Props {\n  listing: {\n    id: string;\n    title: string;\n    image: string;\n    address: string;\n    price: number;\n    numOfGuests: number;\n  };\n}\n\nconst { Text, Title } = Typography;\n\nexport function ListingCard({ listing }: Props) {\n  const { id, title, image, address, price, numOfGuests } = listing;\n\n  return (\n    <Link to={`/listing/${id}`}>\n      <Card\n        hoverable\n        cover={\n          <div\n            style={{ backgroundImage: `url(${image})` }}\n            className=\"listing-card__cover-img\"\n          />\n        }\n      >\n        <div>\n          <div className=\"listing-card__description\">\n            <Title level={4} className=\"listing-card__price\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n            <Text strong ellipsis className=\"listing-card__title\">\n              {title}\n            </Text>\n            <Text ellipsis className=\"listing-card__address\">\n              {address}\n            </Text>\n          </div>\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\n            <UserOutlined style={{ color: iconColor }} />\n            <Text>{numOfGuests} guests</Text>\n          </div>\n        </div>\n      </Card>\n    </Link>\n  );\n}\n","import { Fragment } from \"react\";\nimport { Skeleton } from \"antd\";\n\nfunction SkeletonParagraph() {\n  return (\n    <Skeleton\n      active\n      paragraph={{ rows: 4 }}\n      className=\"page-skeleton__paragraph\"\n    />\n  );\n}\n\nexport function PageSkeleton() {\n  return (\n    <Fragment>\n      <SkeletonParagraph />\n      <SkeletonParagraph />\n      <SkeletonParagraph />\n    </Fragment>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { Avatar, Button, Menu } from \"antd\";\nimport { HomeOutlined, UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\nimport { LOG_OUT } from \"../../../../lib/graphql/mutations\";\nimport { LogOut as LogOutData } from \"../../../../lib/graphql/mutations/LogOut/__generated__/LogOut\";\nimport {\n  displaySuccessNotification,\n  displayErrorMessage,\n} from \"../../../../lib/utils\";\nimport { Viewer } from \"../../../../lib/types\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Item, SubMenu } = Menu;\n\nexport function MenuItems({ viewer, setViewer }: Props) {\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\n    onCompleted(data) {\n      if (!data?.logOut) return;\n      setViewer(data.logOut);\n      sessionStorage.removeItem(\"token\");\n      displaySuccessNotification(\"You've successfully logged out!\");\n    },\n    onError() {\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you out. Please try again later!\"\n      );\n    },\n  });\n\n  async function handleLogOut() {\n    await logOut();\n  }\n\n  const subMenuLogin = viewer.id ? (\n    <SubMenu title={<Avatar src={viewer.avatar} />}>\n      <Item key=\"/user\">\n        <Link to={`/user/${viewer.id}`}>\n          <UserOutlined />\n          Profile\n        </Link>\n      </Item>\n      <Item key=\"/logout\">\n        <div onClick={handleLogOut}>\n          <LogoutOutlined />\n          Logout\n        </div>\n      </Item>\n    </SubMenu>\n  ) : (\n    <Item>\n      <Link to=\"/login\">\n        <Button type=\"primary\">Sign In</Button>\n      </Link>\n    </Item>\n  );\n\n  return (\n    <Menu mode=\"horizontal\" selectable={false} className=\"menu\">\n      <Item key=\"/host\">\n        <Link to=\"/host\">\n          <HomeOutlined />\n          Host\n        </Link>\n      </Item>\n      {subMenuLogin}\n    </Menu>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { useEffect, useState } from \"react\";\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Input, Layout } from \"antd\";\nimport { Viewer } from \"../../lib/types\";\nimport { displayErrorMessage } from \"../../lib/utils\";\nimport { MenuItems } from \"./components\";\nimport logo from \"./assets/tinyhouse-logo.png\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Header } = Layout;\nconst { Search } = Input;\n\nexport const AppHeader = withRouter(HeaderComponent);\n\nfunction HeaderComponent({\n  viewer,\n  setViewer,\n  history,\n  location,\n}: Props & RouteComponentProps) {\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    const { pathname } = location;\n    const pathnameSubStrings = pathname.split(\"/\");\n\n    if (!pathname.includes(\"/listings\")) {\n      setSearch(\"\");\n      return;\n    }\n\n    if (pathname.includes(\"/listings\") && pathnameSubStrings.length === 3) {\n      setSearch(pathnameSubStrings[2]);\n      return;\n    }\n  }, [location]);\n\n  function onSearch(value: string) {\n    const trimmedValue = value.trim();\n\n    if (trimmedValue) {\n      history.push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"Please enter a valid search!\");\n    }\n  }\n\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"App logo\" />\n          </Link>\n        </div>\n        <div className=\"app-header__search-input\">\n          <Search\n            placeholder=\"Search 'San Fransisco'\"\n            enterButton\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onSearch={onSearch}\n          />\n        </div>\n      </div>\n      <div className=\"app-header__menu-section\">\n        <MenuItems viewer={viewer} setViewer={setViewer} />\n      </div>\n    </Header>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\nexport const AUTH_URL = gql`\n  query AuthUrl {\n    authUrl\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LISTING = gql`\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      type\n      address\n      city\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      numOfGuests\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LISTINGS = gql`\n  query Listings(\n    $location: String\n    $filter: ListingsFilter!\n    $limit: Int!\n    $page: Int!\n  ) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      region\n      total\n      result {\n        id\n        title\n        image\n        address\n        price\n        numOfGuests\n      }\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const USER = gql`\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image\n            address\n            price\n            numOfGuests\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image\n          address\n          price\n          numOfGuests\n        }\n      }\n    }\n  }\n`;\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","import { Link } from \"react-router-dom\";\nimport { Card, Col, Input, Row, Typography } from \"antd\";\n\nimport torontoImage from \"../../assets/toronto.jpg\";\nimport dubaiImage from \"../../assets/dubai.jpg\";\nimport losAngelesImage from \"../../assets/los-angeles.jpg\";\nimport londonImage from \"../../assets/london.jpg\";\n\nconst { Title } = Typography;\nconst { Search } = Input;\n\ninterface Props {\n  onSearch: (value: string) => void;\n}\n\nexport function HomeHero({ onSearch }: Props) {\n  return (\n    <div className=\"home-hero\">\n      <div className=\"home-hero__search\">\n        <Title className=\"home-hero__title\">\n          Find a place you'll love to stay at\n        </Title>\n        <Search\n          placeholder=\"Search 'San Fransisco'\"\n          size=\"large\"\n          enterButton\n          className=\"home-hero__search-input\"\n          onSearch={onSearch}\n        />\n      </div>\n      <Row gutter={12} className=\"home-hero__cards\">\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/toronto\">\n            <Card cover={<img alt=\"toronto\" src={torontoImage} />}>\n              Toronto\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/dubai\">\n            <Card cover={<img alt=\"dubai\" src={dubaiImage} />}>Dubai</Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/los%20angeles\">\n            <Card cover={<img alt=\"los-angeles\" src={losAngelesImage} />}>\n              Los Angeles\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/london\">\n            <Card cover={<img alt=\"london\" src={londonImage} />}>London</Card>\n          </Link>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { Listings } from \"../../../../lib/graphql/queries/Listings/__generated__/Listings\";\n\ninterface Props {\n  title: string;\n  listings: Listings[\"listings\"][\"result\"];\n}\n\nconst { Title } = Typography;\n\nexport function HomeListings({ title, listings }: Props) {\n  return (\n    <div className=\"home-listings\">\n      <Title level={4} className=\"home-listings__title\">\n        {title}\n      </Title>\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 4, xl: 4, xxl: 4 }}\n        dataSource={listings}\n        renderItem={(listing) => (\n          <List.Item>\n            <ListingCard listing={listing} />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n}\n","import { Card, List, Skeleton } from \"antd\";\n\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpg\";\n\nexport function HomeListingsSkeleton() {\n  const emptyData = [{}, {}, {}, {}];\n\n  return (\n    <div className=\"home-listings-skeleton\">\n      <Skeleton paragraph={{ rows: 0 }} />\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 4, xl: 4, xxl: 4 }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              cover={\n                <div\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\n                  className=\"home-listings-skeleton__card-cover-img\"\n                />\n              }\n              loading\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n}\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","import { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Col, Layout, Row, Typography } from \"antd\";\nimport { LISTINGS } from \"../../lib/graphql/queries\";\nimport {\n  Listings as ListingsData,\n  ListingsVariables,\n} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\nimport { ListingsFilter } from \"../../lib/graphql/__generated__/globalTypes\";\nimport { displayErrorMessage } from \"../../lib/utils\";\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from \"./components\";\n\nimport mapBackground from \"./assets/map-background.jpg\";\nimport sanFransiscoImage from \"./assets/san-fransisco.jpg\";\nimport cancunImage from \"./assets/cancun.jpg\";\n\nconst { Content } = Layout;\nconst { Paragraph, Title } = Typography;\n\nconst PAGE_LIMIT = 4;\nconst PAGE_NUMBER = 1;\n\nexport function Home({ history }: RouteComponentProps) {\n  const { loading, data } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      variables: {\n        filter: ListingsFilter.PRICE_HIGH_TO_LOW,\n        limit: PAGE_LIMIT,\n        page: PAGE_NUMBER,\n      },\n    }\n  );\n\n  function onSearch(value: string) {\n    const trimmedValue = value.trim();\n    if (trimmedValue) {\n      history.push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"'Please enter a valid search!'\");\n    }\n  }\n\n  function renderListingsSection() {\n    return loading ? (\n      <HomeListingsSkeleton />\n    ) : data ? (\n      <HomeListings title=\"Premium Listings\" listings={data.listings.result} />\n    ) : null;\n  }\n\n  return (\n    <Content\n      className=\"home\"\n      style={{ backgroundImage: `url(${mapBackground})` }}\n    >\n      <HomeHero onSearch={onSearch} />\n      <div className=\"home__cta-section\">\n        <Title level={2} className=\"home__cta-section-title\">\n          Your guide for all things rental\n        </Title>\n        <Paragraph>\n          Helping you make the best decisions in renting your last minute\n          locations.\n        </Paragraph>\n        <Link\n          to=\"/listings/united%20states\"\n          className=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\n        >\n          Popular listings in the United States\n        </Link>\n      </div>\n      {renderListingsSection()}\n      <div className=\"home__listings\">\n        <Title level={4} className=\"home__listings-title\">\n          Listings of any kind\n        </Title>\n        <Row gutter={12}>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/san%20fransisco\">\n              <div className=\"home__listings-img-cover\">\n                <img\n                  src={sanFransiscoImage}\n                  alt=\"San Fransisco\"\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/cancún\">\n              <div className=\"home__listings-img-cover\">\n                <img\n                  src={cancunImage}\n                  alt=\"Cancún\"\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n        </Row>\n      </div>\n    </Content>\n  );\n}\n","import { displayErrorMessage } from \"../../../lib/utils\";\n\nexport function beforeImageUpload(file: File) {\n  const fileIsValidImage =\n    file.type === \"image/jpeg\" || file.type === \"image/png\";\n  if (!fileIsValidImage)\n    displayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\n\n  const fileIsValidSize = file.size / 1024 / 1024 < 2;\n  if (!fileIsValidSize) {\n    displayErrorMessage(\n      \"You're only able to upload valid image files of under 2MB in size!\"\n    );\n  }\n\n  return fileIsValidImage && fileIsValidSize;\n}\n\nexport function getBase64Value(\n  img: File | Blob,\n  callback: (imageBase64Value: string) => void\n) {\n  const reader = new FileReader();\n  reader.addEventListener(\"load\", () => callback(reader.result as string));\n  reader.readAsDataURL(img);\n}\n","import { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { HOST_LISTING } from \"../../lib/graphql/mutations\";\nimport {\n  HostListing as HostListingData,\n  HostListingVariables,\n} from \"../../lib/graphql/mutations/HostListing/__generated__/HostListing\";\nimport {\n  Button,\n  Form,\n  Input,\n  InputNumber,\n  Layout,\n  Radio,\n  Typography,\n  Upload,\n} from \"antd\";\nimport {\n  BankOutlined,\n  HomeOutlined,\n  LoadingOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\nimport { UploadChangeParam } from \"antd/lib/upload\";\nimport { ListingType } from \"../../lib/graphql/__generated__/globalTypes\";\nimport {\n  iconColor,\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"../../lib/utils\";\nimport { Viewer } from \"../../lib/types\";\nimport { beforeImageUpload, getBase64Value } from \"./utils\";\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\nconst { Item, useForm } = Form;\n\nexport function Host({ viewer }: Props) {\n  const [imageLoading, setImageLoading] = useState(false);\n  const [imageBase64Value, setImageBase64Value] = useState(\"\");\n\n  const [hostListing, { loading, data }] = useMutation<\n    HostListingData,\n    HostListingVariables\n  >(HOST_LISTING, {\n    onCompleted() {\n      displaySuccessNotification(\"You've successfully created your listing!\");\n    },\n    onError() {\n      displayErrorMessage(\n        \"Sorry! We weren't able to create your listing. Please try again later.\"\n      );\n    },\n  });\n\n  const [form] = useForm();\n\n  function handleFinish(values: any) {\n    const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.postalCode}`;\n\n    hostListing({\n      variables: {\n        input: {\n          title: values.title,\n          description: values.description,\n          image: imageBase64Value,\n          type: values.type,\n          address: fullAddress,\n          price: values.price * 100,\n          numOfGuests: values.numOfGuests,\n        },\n      },\n    });\n  }\n\n  function handleFinishFailed() {\n    displayErrorMessage(\"Please complete all required form fields!\");\n  }\n\n  function handleImageUpload(info: UploadChangeParam) {\n    const { file } = info;\n\n    if (file.status === \"uploading\") {\n      setImageLoading(true);\n      return;\n    }\n\n    if (file.status === \"done\" && file.originFileObj) {\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\n        setImageBase64Value(imageBase64Value);\n        setImageLoading(false);\n      });\n    }\n  }\n\n  return loading ? (\n    <Content className=\"host-content\">\n      <div className=\"host__form-header\">\n        <Title level={3} className=\"host__form-title\">\n          Please wait!\n        </Title>\n        <Text type=\"secondary\">We're creating your listing now.</Text>\n      </div>\n    </Content>\n  ) : data?.hostListing ? (\n    <Redirect to={`/listing/${data.hostListing.id}`} />\n  ) : !viewer.id || !viewer.hasWallet ? (\n    <Content className=\"host-content\">\n      <div className=\"host__form-header\">\n        <Title level={4} className=\"host__form-title\">\n          You'll have to be signed in and connected with Stripe to host a\n          listing!\n        </Title>\n        <Text type=\"secondary\">\n          We only allow users who've signed in to our application and have\n          connected with Stripe to host new listings. You can sign in at the{\" \"}\n          <Link to=\"/login\">/login</Link> page and connect with Stripe shortly\n          after.\n        </Text>\n      </div>\n    </Content>\n  ) : (\n    <Content className=\"host-content\">\n      <Form\n        layout=\"vertical\"\n        name=\"host_form\"\n        form={form}\n        onFinish={handleFinish}\n        onFinishFailed={handleFinishFailed}\n      >\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host__form-title\">\n            Hi! Let's get started listing your place.\n          </Title>\n          <Text type=\"secondary\">\n            In this form, we'll collect some basic and additional information\n            about your listing.\n          </Text>\n        </div>\n        <Item\n          label=\"Home Type\"\n          name=\"type\"\n          rules={[\n            {\n              required: true,\n              message: \"Please select a home type!\",\n            },\n          ]}\n        >\n          <Radio.Group>\n            <Radio.Button value={ListingType.APARTMENT}>\n              <BankOutlined style={{ color: iconColor }} />{\" \"}\n              <span>Apartment</span>\n            </Radio.Button>\n            <Radio.Button value={ListingType.HOUSE}>\n              <HomeOutlined style={{ color: iconColor }} /> <span>House</span>\n            </Radio.Button>\n          </Radio.Group>\n        </Item>\n        <Item\n          label=\"Max # of Guests\"\n          name=\"numOfGuests\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter the max number of guests!\",\n            },\n          ]}\n        >\n          <InputNumber min={1} placeholder=\"4\" />\n        </Item>\n        <Item\n          label=\"Title\"\n          name=\"title\"\n          extra=\"Max character count of 45\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a title for your listing!\",\n            },\n          ]}\n        >\n          <Input\n            maxLength={45}\n            placeholder=\"The iconic and luxurious Bel-Air mansion\"\n          />\n        </Item>\n        <Item\n          label=\"Description of listing\"\n          name=\"description\"\n          extra=\"Max character count of 400\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a description for your listing!\",\n            },\n          ]}\n        >\n          <Input.TextArea\n            rows={3}\n            maxLength={400}\n            placeholder={`\n              Modern, clean, and iconic home of the Fresh Prince.\n              Situated in the heart of Bel-Air, Los Angeles.\n            `}\n          />\n        </Item>\n        <Item\n          label=\"Address\"\n          name=\"address\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter an address for your listing!\",\n            },\n          ]}\n        >\n          <Input placeholder=\"251 North Bristol Avenue\" />\n        </Item>\n        <Item\n          label=\"City/Town\"\n          name=\"city\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a city (or region) for your listing!\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Los Angeles\" />\n        </Item>\n        <Item\n          label=\"State/Province\"\n          name=\"state\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a state for your listing!\",\n            },\n          ]}\n        >\n          <Input placeholder=\"California\" />\n        </Item>\n        <Item\n          label=\"Zip/Postal Code\"\n          name=\"postalCode\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a zip code for your listing!\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Please enter a zip code for your listing!\" />\n        </Item>\n        <Item\n          label=\"Image\"\n          name=\"image\"\n          extra=\"Images have to be under 1MB in size and of type JPG or PNG\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter provide an image for your listing!\",\n            },\n          ]}\n        >\n          <div className=\"host__form-image-upload\">\n            <Upload\n              name=\"image\"\n              listType=\"picture-card\"\n              showUploadList={false}\n              action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n              beforeUpload={beforeImageUpload}\n              onChange={handleImageUpload}\n            >\n              {imageBase64Value ? (\n                <img src={imageBase64Value} alt=\"Listing\" />\n              ) : (\n                <div>\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\n                  <div className=\"ant-upload-text\">Upload</div>\n                </div>\n              )}\n            </Upload>\n          </div>\n        </Item>\n        <Item\n          label=\"Price\"\n          name=\"price\"\n          extra=\"All prices in $USD/day\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a price for your listing!\",\n            },\n          ]}\n        >\n          <InputNumber min={0} placeholder=\"120\" />\n        </Item>\n        <Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Item>\n      </Form>\n    </Content>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport { Avatar, Divider, List, Typography } from \"antd\";\nimport { Listing } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\n\ninterface Props {\n  listingBookings: Listing[\"listing\"][\"bookings\"];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Text, Title } = Typography;\n\nexport const ListingBookings = ({\n  listingBookings,\n  bookingsPage,\n  limit,\n  setBookingsPage,\n}: Props) => {\n  const total = listingBookings?.total;\n  const result = listingBookings?.result;\n\n  const listingBookingsList = listingBookings ? (\n    <List\n      grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 3, xl: 3, xxl: 3 }}\n      dataSource={result}\n      locale={{ emptyText: \"No bookings have been made yet!\" }}\n      pagination={{\n        current: bookingsPage,\n        total,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(listingBooking) => {\n        const bookingHistory = (\n          <div className=\"listing-bookings__history\">\n            <div>\n              Check in: <Text strong>{listingBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{listingBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <List.Item className=\"listing-bookings__item\">\n            {bookingHistory}\n            <Link to={`/user/${listingBooking.tenant.id}`}>\n              <Avatar\n                src={listingBooking.tenant.avatar}\n                size={64}\n                shape=\"square\"\n              />\n            </Link>\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  return listingBookingsList ? (\n    <div className=\"listing-bookings\">\n      <Divider />\n      <div className=\"listing-bookings__section\">\n        <Title level={4}>Bookings</Title>\n      </div>\n      {listingBookingsList}\n    </div>\n  ) : null;\n};\n","import moment, { Moment } from \"moment\";\nimport { Button, Card, DatePicker, Divider, Typography } from \"antd\";\nimport { Listing as ListingData } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { Viewer } from \"../../../../lib/types\";\nimport { displayErrorMessage, formatListingPrice } from \"../../../../lib/utils\";\nimport { BookingsIndex } from \"./types\";\n\nconst { Paragraph, Text, Title } = Typography;\n\ninterface Props {\n  viewer: Viewer;\n  host: ListingData[\"listing\"][\"host\"];\n  price: number;\n  bookingsIndex: ListingData[\"listing\"][\"bookingsIndex\"];\n  checkInDate: Moment | null;\n  checkOutDate: Moment | null;\n  setCheckInDate: (checkInDate: Moment | null) => void;\n  setCheckOutDate: (checkOutDate: Moment | null) => void;\n  setModalVisible: (modalVisible: boolean) => void;\n}\n\nexport function ListingCreateBooking({\n  viewer,\n  host,\n  price,\n  bookingsIndex,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  setModalVisible,\n}: Props) {\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\n\n  function dateIsBooked(currentDate: Moment) {\n    const year = moment(currentDate).year();\n    const month = moment(currentDate).month();\n    const day = moment(currentDate).date();\n\n    return Boolean(bookingsIndexJSON[year]?.[month]?.[day]);\n  }\n\n  function disabledDate(currentDate: Moment) {\n    if (!currentDate) return false;\n\n    return (\n      currentDate.isBefore(moment().endOf(\"day\")) || dateIsBooked(currentDate)\n    );\n  }\n\n  function handleChangeCheckInDate(dateValue: Moment | null) {\n    setCheckInDate(dateValue);\n  }\n\n  function handleOpenCheckInDate() {\n    setCheckOutDate(null);\n  }\n\n  function handleChangeCheckOutDate(dateValue: Moment | null) {\n    if (checkInDate && dateValue) {\n      if (moment(dateValue).isBefore(checkInDate, \"days\")) {\n        return displayErrorMessage(\n          `You can't book date of check out to be prior to check in!`\n        );\n      }\n\n      let dateCursor = checkInDate;\n\n      while (moment(dateCursor).isBefore(dateValue, \"days\")) {\n        dateCursor = moment(dateCursor).add(1, \"days\");\n\n        const year = moment(dateCursor).year();\n        const month = moment(dateCursor).month();\n        const day = moment(dateCursor).date();\n\n        if (bookingsIndexJSON[year]?.[month]?.[day]) {\n          return displayErrorMessage(\n            \"You can't book a period of time that overlaps existing bookings. Please try again!\"\n          );\n        }\n      }\n    }\n\n    setCheckOutDate(dateValue);\n  }\n\n  const viewerIsHost = viewer.id === host.id;\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\n  const buttonDisabled = checkOutInputDisabled || !checkOutDate;\n\n  let buttonMessage = \"You won't be charged yet\";\n  if (!viewer.id) {\n    buttonMessage = \"You have to be signed in to book a listing!\";\n  } else if (viewerIsHost) {\n    buttonMessage = \"You can't book your own listing!\";\n  } else if (!host.hasWallet) {\n    buttonMessage =\n      \"The host has disconnected from Stripe and thus won't be able to receive payments.\";\n  }\n\n  return (\n    <div className=\"listing-booking\">\n      <Card className=\"listing-booking__card\">\n        <div>\n          <Paragraph>\n            <Title level={2} className=\"listing-booking__card-title\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n          </Paragraph>\n          <Divider />\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check In</Paragraph>\n            <DatePicker\n              value={checkInDate ? checkInDate : undefined}\n              format={\"YYYY/MM/DD\"}\n              showToday={false}\n              disabled={checkInInputDisabled}\n              disabledDate={disabledDate}\n              onChange={handleChangeCheckInDate}\n              onOpenChange={handleOpenCheckInDate}\n            />\n          </div>\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check Out</Paragraph>\n            <DatePicker\n              value={checkOutDate}\n              disabledDate={disabledDate}\n              format=\"YYYY/MM/DD\"\n              showToday={false}\n              disabled={checkOutInputDisabled}\n              onChange={handleChangeCheckOutDate}\n            />\n          </div>\n        </div>\n        <Divider />\n        <Button\n          disabled={buttonDisabled}\n          size=\"large\"\n          type=\"primary\"\n          className=\"listing-booking__card-cta\"\n          onClick={() => setModalVisible(true)}\n        >\n          Request to book!\n        </Button>\n        <Text type=\"secondary\" mark>\n          {buttonMessage}\n        </Text>\n      </Card>\n    </div>\n  );\n}\n","import { useMutation } from \"@apollo/client\";\nimport { Button, Divider, Modal, Typography } from \"antd\";\nimport { KeyOutlined } from \"@ant-design/icons\";\nimport {\n  CardElement,\n  injectStripe,\n  ReactStripeElements,\n} from \"react-stripe-elements\";\nimport moment, { Moment } from \"moment\";\nimport { CREATE_BOOKING } from \"../../../../lib/graphql/mutations\";\nimport {\n  CreateBooking as CreateBookingData,\n  CreateBookingVariables,\n} from \"../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking\";\nimport {\n  formatListingPrice,\n  displaySuccessNotification,\n  displayErrorMessage,\n} from \"../../../../lib/utils\";\n\ninterface Props {\n  id: string;\n  price: number;\n  modalVisible: boolean;\n  checkInDate: Moment;\n  checkOutDate: Moment;\n  setModalVisible: (modalVisible: boolean) => void;\n  clearBookingData: () => void;\n  handleListingRefetch: () => Promise<void>;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nfunction ListingCreateBookingModal({\n  id,\n  price,\n  modalVisible,\n  checkInDate,\n  checkOutDate,\n  setModalVisible,\n  clearBookingData,\n  handleListingRefetch,\n  stripe,\n}: Props & ReactStripeElements.InjectedStripeProps) {\n  const [createBooking, { loading }] = useMutation<\n    CreateBookingData,\n    CreateBookingVariables\n  >(CREATE_BOOKING, {\n    onCompleted() {\n      clearBookingData();\n      displaySuccessNotification(\n        \"You've successfully booked the listing!\",\n        \"Booking history can always be found in your User page.\"\n      );\n      handleListingRefetch();\n    },\n    onError() {\n      displayErrorMessage(\n        \"Sorry! We weren't able to successfully book the listing. Please try again later!\"\n      );\n    },\n  });\n\n  const daysBooked = checkOutDate.diff(checkInDate, \"days\") + 1;\n  const listingPrice = price * daysBooked;\n\n  async function handleCreateBooking() {\n    if (!stripe) {\n      return displayErrorMessage(\n        \"Sorry! We weren't able to connect with Stripe\"\n      );\n    }\n\n    const { token: stripeToken, error } = await stripe.createToken();\n    if (stripeToken) {\n      createBooking({\n        variables: {\n          input: {\n            id,\n            source: stripeToken.id,\n            checkIn: moment(checkInDate).format(\"YYYY-MM-DD\"),\n            checkOut: moment(checkOutDate).format(\"YYYY-MM-DD\"),\n          },\n        },\n      });\n    } else {\n      displayErrorMessage(\n        error?.message ??\n          \"Sorry! We weren't able to book the listing. Please try again later.\"\n      );\n    }\n  }\n\n  return (\n    <Modal\n      visible={modalVisible}\n      centered\n      footer={null}\n      onCancel={() => setModalVisible(false)}\n    >\n      <div className=\"listing-booking-modal\">\n        <div className=\"listing-booking-modal__intro\">\n          <Title className=\"listing-boooking-modal__intro-title\">\n            <KeyOutlined />\n          </Title>\n          <Title level={3} className=\"listing-boooking-modal__intro-title\">\n            Book your trip\n          </Title>\n          <Paragraph>\n            Enter your payment information to book the listing from the dates\n            between{\" \"}\n            <Text mark strong>\n              {moment(checkInDate).format(\"MMMM Do YYYY\")}\n            </Text>{\" \"}\n            and{\" \"}\n            <Text mark strong>\n              {moment(checkOutDate).format(\"MMMM Do YYYY\")}\n            </Text>\n            , inclusive.\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__charge-summary\">\n          <Paragraph>\n            {formatListingPrice(price, false)} x {daysBooked} days ={\" \"}\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n          <Paragraph className=\"listing-booking-modal__charge-summary-total\">\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__stripe-card-section\">\n          <CardElement\n            hidePostalCode\n            className=\"listing-booking-modal__stripe-card\"\n          />\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            className=\"listing-booking-modal__cta\"\n            loading={loading}\n            onClick={handleCreateBooking}\n          >\n            Book\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport const WrappedListingCreateBookingModal = injectStripe(\n  ListingCreateBookingModal\n);\n","import { Link } from \"react-router-dom\";\nimport { Avatar, Divider, Tag, Typography } from \"antd\";\nimport { EnvironmentOutlined } from \"@ant-design/icons\";\nimport { Listing as ListingData } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { iconColor } from \"../../../../lib/utils\";\n\ninterface Props {\n  listing: ListingData[\"listing\"];\n}\n\nconst { Paragraph, Title } = Typography;\n\nexport function ListingDetails({ listing }: Props) {\n  const {\n    title,\n    description,\n    image,\n    type,\n    address,\n    city,\n    numOfGuests,\n    host,\n  } = listing;\n\n  return (\n    <div className=\"listing-details\">\n      <div\n        style={{ backgroundImage: `url(${image})` }}\n        className=\"listing-details__image\"\n      />\n      <div>\n        <Paragraph\n          type=\"secondary\"\n          ellipsis\n          className=\"listing-details__city-address\"\n        >\n          <Link to={`/listings/${city}`}>\n            <EnvironmentOutlined style={{ color: iconColor }} /> {city}\n          </Link>\n          <Divider type=\"vertical\" />\n          {address}\n          <Title level={3} className=\"listing-details__title\">\n            {title}\n          </Title>\n        </Paragraph>\n      </div>\n      <Divider />\n      <div className=\"listing-details__section\">\n        <Link to={`/user/${host.id}`}>\n          <Avatar src={host.avatar} size={64} />\n          <Title level={2} className=\"listing-details__host-name\">\n            {host.name}\n          </Title>\n        </Link>\n      </div>\n      <Divider />\n      <div className=\"listing-details__section\">\n        <Title level={4}>About this space</Title>\n        <div className=\"listing-details__about-items\">\n          <Tag color=\"magenta\">{type}</Tag>\n          <Tag color=\"magenta\">{numOfGuests} Guests</Tag>\n        </div>\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\n          {description}\n        </Paragraph>\n      </div>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Moment } from \"moment\";\nimport { Col, Layout, Row } from \"antd\";\nimport { ErrorBanner, PageSkeleton } from \"../../lib/components\";\nimport { LISTING } from \"../../lib/graphql/queries\";\nimport {\n  Listing as ListingData,\n  ListingVariables,\n} from \"../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { Viewer } from \"../../lib/types\";\nimport {\n  ListingBookings,\n  ListingCreateBooking,\n  WrappedListingCreateBookingModal as ListingCreateBookingModal,\n  ListingDetails,\n} from \"./components\";\n\ninterface MatchParams {\n  id: string;\n}\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst { Content } = Layout;\nconst PAGE_LIMIT = 3;\n\nexport function Listing({\n  viewer,\n  match,\n}: Props & RouteComponentProps<MatchParams>) {\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null);\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const { data, loading, error, refetch } = useQuery<\n    ListingData,\n    ListingVariables\n  >(LISTING, {\n    variables: {\n      id: match.params.id,\n      bookingsPage,\n      limit: PAGE_LIMIT,\n    },\n  });\n\n  const listing = data?.listing;\n  const listingBookings = listing?.bookings;\n\n  const listingDetailsElement = listing ? (\n    <ListingDetails listing={listing} />\n  ) : null;\n\n  const listingBookingsElement = listingBookings ? (\n    <ListingBookings\n      listingBookings={listingBookings}\n      bookingsPage={bookingsPage}\n      limit={PAGE_LIMIT}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  const listingCreateBookingElement = listing ? (\n    <ListingCreateBooking\n      viewer={viewer}\n      host={listing.host}\n      price={listing.price}\n      bookingsIndex={listing.bookingsIndex}\n      checkInDate={checkInDate}\n      checkOutDate={checkOutDate}\n      setCheckInDate={setCheckInDate}\n      setCheckOutDate={setCheckOutDate}\n      setModalVisible={setModalVisible}\n    />\n  ) : null;\n\n  function clearBookingData() {\n    setModalVisible(false);\n    setCheckInDate(null);\n    setCheckOutDate(null);\n  }\n\n  async function handleListingRefetch() {\n    await refetch();\n  }\n\n  const listingCreateBookingModalElement =\n    listing && checkInDate && checkOutDate ? (\n      <ListingCreateBookingModal\n        id={listing.id}\n        price={listing.price}\n        modalVisible={modalVisible}\n        checkInDate={checkInDate}\n        checkOutDate={checkOutDate}\n        setModalVisible={setModalVisible}\n        clearBookingData={clearBookingData}\n        handleListingRefetch={handleListingRefetch}\n      />\n    ) : null;\n\n  return loading ? (\n    <Content className=\"listing\">\n      <PageSkeleton />\n    </Content>\n  ) : error ? (\n    <Content className=\"listing\">\n      <ErrorBanner description=\"This listing may not exist or we've encountered an error. Please try again soon!\" />\n      <PageSkeleton />\n    </Content>\n  ) : (\n    <Content className=\"listing\">\n      <Row gutter={24} justify=\"space-between\">\n        <Col xs={24} lg={14}>\n          {listingDetailsElement}\n          {listingBookingsElement}\n        </Col>\n        <Col xs={24} lg={10}>\n          {listingCreateBookingElement}\n        </Col>\n      </Row>\n      {listingCreateBookingModalElement}\n    </Content>\n  );\n}\n","import { Select } from \"antd\";\nimport { ListingsFilter } from \"../../../../lib/graphql/__generated__/globalTypes\";\n\ninterface Props {\n  filter: ListingsFilter;\n  setFilter: (filter: ListingsFilter) => void;\n}\n\nconst { Option } = Select;\n\nexport function ListingsFilters({ filter, setFilter }: Props) {\n  return (\n    <div className=\"listings-filters\">\n      <span>Filter By</span>\n      <Select\n        value={filter}\n        onChange={(filter: ListingsFilter) => setFilter(filter)}\n      >\n        <Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>\n          Price: Low to High\n        </Option>\n        <Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>\n          Price: High to Low\n        </Option>\n      </Select>\n    </div>\n  );\n}\n","import { Pagination } from \"antd\";\n\ninterface Props {\n  total: number;\n  page: number;\n  limit: number;\n  setPage: (page: number) => void;\n}\n\nexport function ListingsPagination({ total, page, limit, setPage }: Props) {\n  return (\n    <Pagination\n      current={page}\n      total={total}\n      defaultPageSize={limit}\n      hideOnSinglePage\n      showLessItems\n      onChange={(page: number) => setPage(page)}\n      className=\"listings-pagination\"\n    />\n  );\n}\n","import { Card, List, Skeleton } from \"antd\";\n\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpg\";\n\nexport function ListingsSkeleton() {\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}];\n\n  return (\n    <div>\n      <Skeleton paragraph={{ rows: 1 }} />\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 4, xl: 4, xxl: 4 }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              cover={\n                <div\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\n                  className=\"listings-skeleton__card-cover-img\"\n                />\n              }\n              loading\n              className=\"listings-skeleton__card\"\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n}\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { useEffect, useRef, useState } from \"react\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Affix, Layout, List, Typography } from \"antd\";\nimport { ErrorBanner, ListingCard } from \"../../lib/components\";\nimport { LISTINGS } from \"../../lib/graphql/queries\";\nimport {\n  Listings as ListingsData,\n  ListingsVariables,\n} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\nimport { ListingsFilter } from \"../../lib/graphql/__generated__/globalTypes\";\nimport {\n  ListingsFilters,\n  ListingsPagination,\n  ListingsSkeleton,\n} from \"./components\";\n\ninterface MatchParams {\n  location: string;\n}\n\nconst { Content } = Layout;\nconst { Paragraph, Text, Title } = Typography;\n\nconst PAGE_LIMIT = 8;\n\nexport function Listings({ match }: RouteComponentProps<MatchParams>) {\n  const location = match.params.location;\n  const locationRef = useRef(location);\n  const [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    setPage(1);\n    locationRef.current = location;\n  }, [location]);\n\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      skip: locationRef.current !== location && page !== 1,\n      variables: {\n        location,\n        filter,\n        limit: PAGE_LIMIT,\n        page,\n      },\n    }\n  );\n\n  const listings = data?.listings;\n  const listingsRegion = listings?.region;\n\n  const listingsRegionElement = listingsRegion ? (\n    <Title level={3} className=\"listings__title\">\n      Results for \"{listingsRegion}\"\n    </Title>\n  ) : null;\n\n  const listingsSectionElement = listings?.result.length ? (\n    <div>\n      <Affix offsetTop={64}>\n        <ListingsPagination\n          total={listings.total}\n          page={page}\n          limit={PAGE_LIMIT}\n          setPage={setPage}\n        />\n        <ListingsFilters filter={filter} setFilter={setFilter} />\n      </Affix>\n      <List\n        grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 4, xl: 4, xxl: 4 }}\n        dataSource={listings.result}\n        renderItem={(listing) => (\n          <List.Item>\n            <ListingCard listing={listing} />\n          </List.Item>\n        )}\n      />\n    </div>\n  ) : (\n    <div>\n      <Paragraph>\n        It appears that no listings have yet been created for{\" \"}\n        <Text mark>\"{listingsRegion}\"</Text>\n      </Paragraph>\n      <Paragraph>\n        Be the first person to create a{\" \"}\n        <Link to=\"/host\">listing in this area</Link>!\n      </Paragraph>\n    </div>\n  );\n\n  return loading ? (\n    <Content className=\"listings\">\n      <ListingsSkeleton />\n    </Content>\n  ) : error ? (\n    <Content className=\"listings\">\n      <ErrorBanner\n        description={`\n            We either couldn't find anything matching your search or have encountered an error.\n            If you're searching for a unique location, try searching again with more common keywords.\n          `}\n      />\n      <ListingsSkeleton />\n    </Content>\n  ) : (\n    <Content className=\"listings\">\n      {listingsRegionElement}\n      {listingsSectionElement}\n    </Content>\n  );\n}\n","export default \"data:image/jpeg;base64,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\"","import { useEffect, useRef } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { Card, Layout, Spin, Typography } from \"antd\";\nimport { ErrorBanner } from \"../../lib/components/ErrorBanner\";\nimport { LOG_IN } from \"../../lib/graphql/mutations\";\nimport { AUTH_URL } from \"../../lib/graphql/queries\";\nimport {\n  LogIn as LogInData,\n  LogInVariables,\n} from \"../../lib/graphql/mutations/LogIn/__generated__/LogIn\";\nimport { AuthUrl as AuthUrlData } from \"../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl\";\nimport {\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"../../lib/utils\";\nimport { Viewer } from \"../../lib/types\";\nimport googleLogo from \"./assets/google_logo.jpg\";\n\ninterface Props {\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\n\nexport function Login({ setViewer }: Props) {\n  const [getAuthUrl] = useLazyQuery<AuthUrlData>(AUTH_URL, {\n    onCompleted(data) {\n      window.location.href = data.authUrl;\n    },\n    onError() {\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you in. Please try again later!\"\n      );\n    },\n  });\n  const [\n    logIn,\n    { data: logInData, loading: logInLoading, error: logInError },\n  ] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted(data) {\n      if (!data.logIn.token) return;\n      setViewer(data.logIn);\n      sessionStorage.setItem(\"token\", data.logIn.token);\n      displaySuccessNotification(\"You've successfully logged in!\");\n    },\n  });\n  const logInRef = useRef(logIn);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n\n    if (!code) return;\n\n    logInRef.current({ variables: { input: { code } } });\n  }, []);\n\n  function handleGetAuthUrl() {\n    getAuthUrl();\n  }\n\n  const logInErrorBannerElement = logInError ? (\n    <ErrorBanner description=\"We weren't able to log you in. Please try again soon.\" />\n  ) : null;\n\n  return logInLoading ? (\n    <Content className=\"log-in\">\n      <Spin size=\"large\" tip=\"Logging you in...\" />\n    </Content>\n  ) : logInData?.logIn ? (\n    <Redirect to={`/user/${logInData.logIn.id}`} />\n  ) : (\n    <Content className=\"log-in\">\n      {logInErrorBannerElement}\n      <Card className=\"log-in-card\">\n        <div className=\"log-in-card__intro\">\n          <Title level={3} className=\"log-in-card__intro-title\">\n            <span role=\"img\" aria-label=\"wave\">\n              👋\n            </span>\n          </Title>\n          <Title level={3} className=\"log-in-card__intro-title\">\n            Log in to TinyHouse!\n          </Title>\n          <Text>Sign in with Google to start booking available rentals!</Text>\n        </div>\n        <button\n          className=\"log-in-card__google-button\"\n          onClick={handleGetAuthUrl}\n        >\n          <img\n            src={googleLogo}\n            alt=\"Google Logo\"\n            className=\"log-in-card__google-button-logo\"\n          />\n          <span className=\"log-in-card__google-button-text\">\n            Sign in with Google\n          </span>\n        </button>\n        <Text type=\"secondary\">\n          Note: By signing in, you'll be redirected to the Google consent form\n          to sign in with your Google account.\n        </Text>\n      </Card>\n    </Content>\n  );\n}\n","export function NotFound() {\n  return <h2>NotFound</h2>;\n}\n","import { useEffect, useRef } from \"react\";\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { Layout, Spin } from \"antd\";\nimport { CONNECT_STRIPE } from \"../../lib/graphql/mutations\";\nimport {\n  ConnectStripe as ConnectStripeData,\n  ConnectStripeVariables,\n} from \"../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe\";\nimport { Viewer } from \"../../lib/types\";\nimport { displaySuccessNotification } from \"../../lib/utils\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\n\nexport function Stripe({\n  viewer,\n  setViewer,\n  history,\n}: Props & RouteComponentProps) {\n  const [connectStripe, { data, loading, error }] = useMutation<\n    ConnectStripeData,\n    ConnectStripeVariables\n  >(CONNECT_STRIPE, {\n    onCompleted(data) {\n      if (data?.connectStripe) {\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\n        displaySuccessNotification(\n          \"You've successfully connected your Stripe Account!\",\n          \"You can now begin to create listings in the Host page.\"\n        );\n      }\n    },\n  });\n  const connectStripeRef = useRef(connectStripe);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n\n    if (code) {\n      connectStripeRef.current({\n        variables: {\n          input: { code },\n        },\n      });\n    } else {\n      history.replace(\"/login\");\n    }\n  }, [history]);\n\n  return data?.connectStripe ? (\n    <Redirect to={`/user/${viewer.id}`} />\n  ) : loading ? (\n    <Content className=\"stripe\">\n      <Spin size=\"large\" tip=\"Connecting your Stripe account...\" />\n    </Content>\n  ) : error ? (\n    <Redirect to={`/user/${viewer.id}?stripe_error=true`} />\n  ) : null;\n}\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { User } from \"../../../../lib/graphql/queries/User/__generated__/User\";\n\ninterface Props {\n  userBookings: User[\"user\"][\"bookings\"];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nexport function UserBookings({\n  userBookings,\n  bookingsPage,\n  limit,\n  setBookingsPage,\n}: Props) {\n  const total = userBookings?.total;\n  const result = userBookings?.result;\n\n  const userBookingsList = userBookings ? (\n    <List\n      grid={{ gutter: 8, xs: 1, sm: 2, md: 3, lg: 4, xl: 4, xxl: 4 }}\n      dataSource={result}\n      locale={{ emptyText: \"You haven't made any bookings!\" }}\n      pagination={{\n        position: \"top\",\n        current: bookingsPage,\n        total,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(userBooking) => {\n        const bookingHistory = (\n          <div className=\"user-bookings__booking-history\">\n            <div>\n              Check in: <Text strong>{userBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{userBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <List.Item>\n            {bookingHistory}\n            <ListingCard listing={userBooking.listing} />\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  return userBookingsList ? (\n    <div className=\"user-bookings\">\n      <Title level={4} className=\"user-bookings__title\">\n        Bookings\n      </Title>\n      <Paragraph className=\"user-bookings__description\">\n        This section highlights the bookings you've made, and the\n        check-in/check-out dates associated with said bookings.\n      </Paragraph>\n      {userBookingsList}\n    </div>\n  ) : null;\n}\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { User } from \"../../../../lib/graphql/queries/User/__generated__/User\";\n\ninterface Props {\n  userListings: User[\"user\"][\"listings\"];\n  listingsPage: number;\n  limit: number;\n  setListingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Title } = Typography;\n\nexport function UserListings({\n  userListings,\n  listingsPage,\n  limit,\n  setListingsPage,\n}: Props) {\n  const { total, result } = userListings;\n\n  const userListingsList = (\n    <List\n      grid={{ gutter: 8, xs: 1, sm: 2, md: 2, lg: 4, xl: 4, xxl: 4 }}\n      dataSource={result}\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\n      pagination={{\n        position: \"top\",\n        current: listingsPage,\n        total,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setListingsPage(page),\n      }}\n      renderItem={(userListing) => (\n        <List.Item>\n          <ListingCard listing={userListing} />\n        </List.Item>\n      )}\n    />\n  );\n\n  return (\n    <div className=\"user-listings\">\n      <Title level={4} className=\"user-listings__title\">\n        Listings\n      </Title>\n      <Paragraph className=\"user-listings__description\">\n        This sections highlights the listings this user currently hosts and has\n        made available for bookings.\n      </Paragraph>\n      {userListingsList}\n    </div>\n  );\n}\n","import { Fragment } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { Avatar, Button, Card, Divider, Tag, Typography } from \"antd\";\nimport {\n  formatListingPrice,\n  displaySuccessNotification,\n  displayErrorMessage,\n} from \"../../../../lib/utils\";\nimport { DISCONNECT_STRIPE } from \"../../../../lib/graphql/mutations\";\nimport { DisconnectStripe as DisconnectStripeData } from \"../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe\";\nimport { User as UserData } from \"../../../../lib/graphql/queries/User/__generated__/User\";\nimport { Viewer } from \"../../../../lib/types\";\n\ninterface Props {\n  user: UserData[\"user\"];\n  viewer: Viewer;\n  viewerIsUser: boolean;\n  setViewer: (viewer: Viewer) => void;\n  handleUserRefetch: () => void;\n}\n\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_S_CLIENT_ID}&scope=read_write`;\nconst { Paragraph, Text, Title } = Typography;\n\nexport function UserProfile({\n  user,\n  viewer,\n  viewerIsUser,\n  setViewer,\n  handleUserRefetch,\n}: Props) {\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(\n    DISCONNECT_STRIPE,\n    {\n      onCompleted(data) {\n        if (data?.disconnectStripe) {\n          setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\n          displaySuccessNotification(\n            \"You've successfully disconnected from Stripe!\",\n            \"You'll have to reconnect with Stripe to continue to create listings.\"\n          );\n        }\n        handleUserRefetch();\n      },\n      onError() {\n        displayErrorMessage(\n          \"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\"\n        );\n      },\n    }\n  );\n\n  function redirectToStripe() {\n    window.location.href = stripeAuthUrl;\n  }\n\n  const additionalDetails = user.hasWallet ? (\n    <Fragment>\n      <Paragraph>\n        <Tag color=\"green\">Stripe Registered</Tag>\n      </Paragraph>\n      <Paragraph>\n        Income Earned:{\" \"}\n        <Text strong>\n          {user.income ? formatListingPrice(user.income) : `$0`}\n        </Text>\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        loading={loading}\n        onClick={() => disconnectStripe()}\n      >\n        Disconnect Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        By disconnecting, you won't be able to receive{\" \"}\n        <Text strong>any further payments</Text>. This will prevent users from\n        booking listings that you might have already created.\n      </Paragraph>\n    </Fragment>\n  ) : (\n    <Fragment>\n      <Paragraph>\n        Interested in becoming a TinyHouse host? Register with your Stripe\n        account!\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        onClick={redirectToStripe}\n      >\n        Connect with Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        TinyHouse uses{\" \"}\n        <a\n          href=\"https://stripe.com/en-US/connect\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Stripe\n        </a>{\" \"}\n        to help transfer your earnings in a secure and trusted manner.\n      </Paragraph>\n    </Fragment>\n  );\n\n  const additionalDetailsSection = viewerIsUser ? (\n    <Fragment>\n      <Divider />\n      <div className=\"user-profile__details\">\n        <Title level={4}>Additional Details</Title>\n        {additionalDetails}\n      </div>\n    </Fragment>\n  ) : null;\n\n  return (\n    <div className=\"user-profile\">\n      <Card className=\"user-profile__card\">\n        <div className=\"user-profile__avatar\">\n          <Avatar size={100} src={user.avatar} />\n        </div>\n        <Divider />\n        <div className=\"user-profile__details\">\n          <Title level={4}>Details</Title>\n          <Paragraph>\n            Name: <Text strong>{user.name}</Text>\n          </Paragraph>\n          <Paragraph>\n            Contact: <Text strong>{user.contact}</Text>\n          </Paragraph>\n        </div>\n        {additionalDetailsSection}\n      </Card>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Col, Layout, Row } from \"antd\";\nimport { USER } from \"../../lib/graphql/queries\";\nimport {\n  User as UserData,\n  UserVariables,\n} from \"../../lib/graphql/queries/User/__generated__/User\";\nimport { ErrorBanner, PageSkeleton } from \"../../lib/components\";\nimport { Viewer } from \"../../lib/types\";\nimport { UserBookings, UserListings, UserProfile } from \"./components\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\ninterface MatchParams {\n  id: string;\n}\n\nconst { Content } = Layout;\nconst PAGE_LIMIT = 4;\n\nexport function User({\n  viewer,\n  setViewer,\n  match,\n}: Props & RouteComponentProps<MatchParams>) {\n  const [listingsPage, setListingsPage] = useState(1);\n  const [bookingsPage, setBookingsPage] = useState(1);\n\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(\n    USER,\n    {\n      variables: {\n        id: match.params.id,\n        bookingsPage,\n        listingsPage,\n        limit: PAGE_LIMIT,\n      },\n    }\n  );\n\n  async function handleRefetch() {\n    await refetch();\n  }\n\n  const user = data?.user;\n  const viewerIsUser = viewer.id === match.params.id;\n\n  const userProfileElement = user ? (\n    <UserProfile\n      user={user}\n      viewer={viewer}\n      viewerIsUser={viewerIsUser}\n      setViewer={setViewer}\n      handleUserRefetch={handleRefetch}\n    />\n  ) : null;\n\n  const userListingsElement = user?.listings ? (\n    <UserListings\n      userListings={user?.listings}\n      listingsPage={listingsPage}\n      limit={PAGE_LIMIT}\n      setListingsPage={setListingsPage}\n    />\n  ) : null;\n\n  const userBookingsElement =\n    viewerIsUser && user?.bookings ? (\n      <UserBookings\n        userBookings={user?.bookings}\n        bookingsPage={bookingsPage}\n        limit={PAGE_LIMIT}\n        setBookingsPage={setBookingsPage}\n      />\n    ) : null;\n\n  const stripeError = new URL(window.location.href).searchParams.get(\n    \"stripe_error\"\n  );\n  const stripeErrorBanner = stripeError ? (\n    <ErrorBanner description=\"We had an issue connecting with Stripe. Please try again soon.\" />\n  ) : null;\n\n  return loading ? (\n    <Content className=\"user\">\n      <PageSkeleton />\n    </Content>\n  ) : error ? (\n    <Content className=\"user\">\n      <ErrorBanner description=\"This user may not exist or we've encountered an error. Please try again soon.\" />\n      <PageSkeleton />\n    </Content>\n  ) : (\n    <Content className=\"user\">\n      {stripeErrorBanner}\n      <Row gutter={12} justify=\"space-between\">\n        <Col xs={24}>{userProfileElement}</Col>\n        <Col xs={24}>\n          {userListingsElement}\n          {userBookingsElement}\n        </Col>\n      </Row>\n    </Content>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { StripeProvider, Elements } from \"react-stripe-elements\";\nimport { Affix, Layout, Spin } from \"antd\";\nimport { useMutation } from \"@apollo/client\";\nimport {\n  LogIn as LogInData,\n  LogInVariables,\n} from \"./lib/graphql/mutations/LogIn/__generated__/LogIn\";\nimport { LOG_IN } from \"./lib/graphql/mutations\";\nimport { AppHeaderSkeleton, ErrorBanner } from \"./lib/components\";\nimport { Viewer } from \"./lib/types\";\nimport {\n  AppHeader,\n  Home,\n  Host,\n  Listing,\n  Listings,\n  Login,\n  NotFound,\n  Stripe,\n  User,\n} from \"./sections\";\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n};\n\nexport function App() {\n  const [viewer, setViewer] = useState<Viewer>(initialViewer);\n  const [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted(data) {\n      if (!data.logIn) return;\n      setViewer(data.logIn);\n\n      if (data.logIn.token) {\n        sessionStorage.setItem(\"token\", data.logIn.token);\n      } else {\n        sessionStorage.removeItem(\"token\");\n      }\n    },\n  });\n  const logInRef = useRef(logIn);\n\n  useEffect(() => {\n    logInRef.current();\n  }, []);\n\n  const logInErrorBannerElement = error ? (\n    <ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later.\" />\n  ) : null;\n\n  return !viewer.didRequest && !error ? (\n    <Layout className=\"app-skeleton\">\n      <AppHeaderSkeleton />\n      <div className=\"app-skeleton__spin-section\">\n        <Spin size=\"large\" tip=\"Launching TinyHouse\" />\n      </div>\n    </Layout>\n  ) : (\n    <StripeProvider apiKey={process.env.REACT_APP_S_PUBLISHABLE_KEY as string}>\n      <Router>\n        <Layout id=\"app\">\n          {logInErrorBannerElement}\n          <Affix offsetTop={0} className=\"app__affix-header\">\n            <AppHeader viewer={viewer} setViewer={setViewer} />\n          </Affix>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route\n              exact\n              path=\"/host\"\n              render={(props) => <Host {...props} viewer={viewer} />}\n            />\n            <Route\n              exact\n              path=\"/listing/:id\"\n              render={(props) => (\n                <Elements>\n                  <Listing {...props} viewer={viewer} />\n                </Elements>\n              )}\n            />\n            <Route exact path=\"/listings/:location?\" component={Listings} />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => <Login {...props} setViewer={setViewer} />}\n            />\n            <Route\n              exact\n              path=\"/stripe\"\n              render={(props) => (\n                <Stripe {...props} viewer={viewer} setViewer={setViewer} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/user/:id\"\n              render={(props) => (\n                <User {...props} viewer={viewer} setViewer={setViewer} />\n              )}\n            />\n            <Route component={NotFound} />\n          </Switch>\n        </Layout>\n      </Router>\n    </StripeProvider>\n  );\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport {\n  ApolloClient,\n  ApolloProvider,\n  HttpLink,\n  InMemoryCache,\n} from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./styles/index.css\";\n\nconst httpLink = new HttpLink({ uri: \"/api\" });\n\nconst authLink = setContext((_, { headers }) => {\n  return {\n    headers: {\n      ...headers,\n      \"X-CSRF-TOKEN\": sessionStorage.getItem(\"token\") || \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: authLink.concat(httpLink),\n});\n\nrender(\n  <StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}